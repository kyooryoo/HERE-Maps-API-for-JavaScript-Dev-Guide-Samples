<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.2/mapsjs-core.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.2/mapsjs-service.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.2/mapsjs-mapevents.js"></script>
    <script type="text/javascript" charset="utf-8" src="https://js.api.here.com/v3/3.2/mapsjs-ui.js"></script>
    <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.2/mapsjs-ui.css" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />
    <script type="text/javascript" src="../../credentials.js"></script>
</head>

<body>
    <div style="width: 100%; height: 700px" id="mapContainer"></div>
    <script>
        // Initiate and authenticate your connection to the HERE platform:
        const platform = new H.service.Platform({
            'apikey': window.apikey
        });

        // Obtain the default map types from the platform object:
        const defaultLayers = platform.createDefaultLayers();

        // Instantiate (and display) a map:
        const map = new H.Map(
            document.getElementById("mapContainer"),
            defaultLayers.vector.normal.map, {
            zoom: 10,
            center: {
                lat: 52.5,
                lng: 13.4
            }
        });

        // MapEvents enables the event system.
        // The behavior variable implements default interactions for pan/zoom (also on mobile touch environments).
        const behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

        // Enable dynamic resizing of the map, based on the current size of the enclosing container
        window.addEventListener('resize', () => map.getViewPort().resize());

        // Create the default UI:
        const ui = H.ui.UI.createDefault(map, defaultLayers)

        // Marker 1

        // Define a variable holding SVG mark-up that defines an icon image:
        var svgMarkup = '<svg width="24" height="24" ' +
            'xmlns="http://www.w3.org/2000/svg">' +
            '<rect stroke="white" fill="#1b468d" x="1" y="1" width="22" ' +
            'height="22" /><text x="12" y="18" font-size="12pt" ' +
            'font-family="Arial" font-weight="bold" text-anchor="middle" ' +
            'fill="white">H</text></svg>';

        // Create an icon, an object holding the latitude and longitude, and a marker:
        var icon = new H.map.Icon(svgMarkup),
            coords = { lat: 52.53075, lng: 13.3851, alt: 50 },
            marker = new H.map.Marker(coords, { icon: icon });

        // Add the marker to the map and center the map at the location specified by the marker, with a zoom level set to 17:
        map.addObject(marker);
        map.setCenter(coords);
        map.setZoom(17)

        // Marker 2

        // ' from origin 'null' has been blocked by CORS policy: 
        // Cross origin requests are only supported for protocol schemes: 
        // chrome-extension, chrome-untrusted, data, edge, http, https, isolated-app.

        // Create a marker icon by specifying either the path to an image directory or the URL of the image:
        var icon = new H.map.Icon('./markerPin.png');

        // Create a marker using the previously instantiated icon:
        var marker = new H.map.Marker({ lat: 52.53075, lng: 13.3852, alt: 50 }, { icon: icon });

        // Add the marker to the map and optionally set the zoom:
        map.addObject(marker);
        map.setZoom(16)

        // Marker 3

        // Define a variable holding SVG mark-up that defines an animated icon image:
        var animatedSvg =
            '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" ' +
            'y="0px" style="margin:-112px 0 0 -32px" width="136px"' +
            'height="150px" viewBox="0 0 136 150"><ellipse fill="#000" ' +
            'cx="32" cy="128" rx="36" ry="4"><animate attributeName="cx" ' +
            'from="32" to="32" begin="0s" dur="1.5s" values="96;32;96" ' +
            'keySplines=".6 .1 .8 .1; .1 .8 .1 1" keyTimes="0;0.4;1"' +
            'calcMode="spline" repeatCount="indefinite"/>' +
            '<animate attributeName="rx" from="36" to="36" begin="0s"' +
            'dur="1.5s" values="36;10;36" keySplines=".6 .0 .8 .0; .0 .8 .0 1"' +
            'keyTimes="0;0.4;1" calcMode="spline" repeatCount="indefinite"/>' +
            '<animate attributeName="opacity" from=".2" to=".2"  begin="0s" ' +
            ' dur="1.5s" values=".1;.7;.1" keySplines=" .6.0 .8 .0; .0 .8 .0 1" ' +
            'keyTimes=" 0;0.4;1" calcMode="spline" ' +
            'repeatCount="indefinite"/></ellipse><ellipse fill="#1b468d" ' +
            'cx="26" cy="20" rx="16" ry="12"><animate attributeName="cy" ' +
            'from="20" to="20" begin="0s" dur="1.5s" values="20;112;20" ' +
            'keySplines=".6 .1 .8 .1; .1 .8 .1 1" keyTimes=" 0;0.4;1" ' +
            'calcMode="spline" repeatCount="indefinite"/> ' +
            '<animate attributeName="ry" from="16" to="16" begin="0s" ' +
            'dur="1.5s" values="16;12;16" keySplines=".6 .0 .8 .0; .0 .8 .0 1" ' +
            'keyTimes="0;0.4;1" calcMode="spline" ' +
            'repeatCount="indefinite"/></ellipse></svg>';

        // Create an icon object, an object with geographic coordinates and a marker:
        var icon = new H.map.DomIcon(animatedSvg),
            coords = { lat: 52.53075, lng: 13.3852, alt: 50 },
            marker = new H.map.DomMarker(coords, { icon: icon });

        // Set map center and zoom, add the marker to the map:
        map.setCenter(coords);
        map.setZoom(18);
        map.addObject(marker);

        // Marker 4

        var svg = '<svg width="48" height="48" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">' +
            '<path fill="#2D6AC4" d="M12 2C8.13 2 5 5.13 5 9c0 4.97 7 13 7 13s7-8.03 7-13c0-3.87-3.13-7-7-7z"/>' +
            '<circle cx="12" cy="9" r="4" fill="#FFFFFF"/>' +
            '</svg>';

        var coords = { lat: 52.53075, lng: 13.3853, alt: 50 }
        var icon = new H.map.Icon(svg, {
            anchor: {
                x: 24,
                y: 58
            } // x: center horizontally, y: slightly below the bottom tip of the marker 
        });
        var marker = new H.map.Marker(coords, { icon: icon });

        // Add the marker to the map and the set the zoom:
        map.setCenter(coords);
        map.setZoom(17)
        map.addObject(marker);

    </script>
</body>

</html>